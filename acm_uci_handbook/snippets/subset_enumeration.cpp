for (int s=m; s; s=(s-1)&m) {
    // ...
}
